<!doctype html>
<html lang="de">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>{% block title %}Shopping Points Optimiser{% endblock %}</title>
    <link rel="icon" type="image/x-icon" href="{{ url_for('static', filename='favicon.ico') }}" />
    <link rel="stylesheet" href="{{ url_for('static', filename='css/main.css') }}" />
    {% block extra_css %}{% endblock %}
  </head>
  <body>
    <div class="app-shell">
      {% block nav %}
      <nav class="top-nav">
        {% if current_user.is_authenticated %}
        <a class="nav-link" href="/profile">ğŸ‘¤ {{ current_user.username }}</a>
        {% if current_user.role == 'admin' %}
        <a class="nav-link" href="/admin">âš™ï¸ Admin</a>
        {% endif %} {% if current_user.role in ['user', 'contributor', 'admin'] %}
        <a class="nav-link" href="/proposals">ğŸ“ BeitrÃ¤ge</a>
        {% endif %}
        <a class="nav-link" href="/">ğŸ  Home</a>
        <a class="nav-link" href="/logout">ğŸšª Logout</a>
        {% else %}
        <a class="nav-link" href="/">ğŸ  Home</a>
        <a class="nav-link" href="/login">ğŸ” Login</a>
        <a class="nav-link" href="/register">ğŸ“ Registrieren</a>
        {% endif %}
      </nav>
      {% endblock %} {% block flashes %} {% with messages = get_flashed_messages(with_categories=true) %} {% if messages
      %}
      <div class="flash-messages">
        {% for category, message in messages %}
        <div class="alert alert-{{ category }}">{{ message }}</div>
        {% endfor %}
      </div>
      {% endif %} {% endwith %} {% endblock %}

      <main class="page-content">{% block content %}{% endblock %}</main>

      <footer class="site-footer">
        <span>Version {{ app_version }}</span>
        <a href="{{ github_repo_url }}" target="_blank" rel="noopener">GitHub Projekt</a>
        <a href="/impressum">Impressum</a>
        <a href="/datenschutz">Datenschutz</a>
      </footer>
    </div>
    {% block scripts %}{% endblock %}
  </body>
</html>
