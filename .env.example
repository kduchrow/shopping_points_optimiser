# =============================================================================
# Shopping Points Optimiser - Environment Configuration
# =============================================================================
# Copy this file to .env and customize the values for your environment.
# Never commit the .env file to version control!

# =============================================================================
# Flask Configuration
# =============================================================================

# Flask environment (development | production)
# Set to 'development' for local development to install dev dependencies (pytest, etc.)
# Set to 'production' for production deployment
FLASK_ENV=production

# CRITICAL: Change this to a secure random key in production!
# Generate with: python -c "import secrets; print(secrets.token_hex(32))"
SECRET_KEY=change-this-to-a-secure-random-key-32-characters-long

# Debug mode (ALWAYS False in production!)
DEBUG=False

# =============================================================================
# Docker Configuration
# =============================================================================

# App version for Docker image tagging is auto-synced from pyproject.toml
# Run this before 'docker compose up' to sync version:
#   python scripts/sync_version.py
# OR set manually if needed:
# APP_VERSION=0.3.1
APP_VERSION=0.3.1

# Build metadata (optional, auto-generated in build scripts)
# BUILD_DATE=2026-01-06T12:00:00Z
# VCS_REF=abc1234

# =============================================================================
# Database Configuration
# =============================================================================

# PostgreSQL (Recommended for production)
DATABASE_URL=postgresql+psycopg2://spo:spo@db:5432/spo

# For local development without Docker, use:
# DATABASE_URL=postgresql+psycopg2://spo:spo@localhost:5432/spo

# SQLite (Legacy, deprecated - for migration only)
# DATABASE_URL=sqlite:///instance/shopping_points.db

# =============================================================================
# Application Settings
# =============================================================================

# GitHub repository URL (displayed in footer)
GITHUB_REPO_URL=https://github.com/kduchrow/shopping_points_optimiser

# =============================================================================
# Legal Pages (Impressum / Datenschutz)
# =============================================================================

# Impressum (required)
IMPRINT_NAME=
IMPRINT_ADDRESS=
IMPRINT_POSTAL_CODE=
IMPRINT_CITY=
IMPRINT_COUNTRY=
IMPRINT_EMAIL=

# Impressum (optional)
IMPRINT_PHONE=
IMPRINT_VAT_ID=
IMPRINT_REPRESENTATIVE=
IMPRINT_ADDITIONAL_TEXT=

# Datenschutz (required)
PRIVACY_CONTROLLER_NAME=
PRIVACY_CONTROLLER_ADDRESS=
PRIVACY_CONTROLLER_POSTAL_CODE=
PRIVACY_CONTROLLER_CITY=
PRIVACY_CONTROLLER_COUNTRY=
PRIVACY_CONTACT_EMAIL=

# Datenschutz (optional)
PRIVACY_CONTACT_PHONE=
PRIVACY_ADDITIONAL_TEXT=

# Hosting-Anbieter (für Datenschutzerklärung)
PRIVACY_HOSTING_PROVIDER=
PRIVACY_HOSTING_ADDRESS=
PRIVACY_HOSTING_CITY=
PRIVACY_HOSTING_COUNTRY=

# E-Mail Provider (optional, falls extern)
PRIVACY_EMAIL_PROVIDER=

# Aufsichtsbehörde (optional, für Beschwerderecht)
PRIVACY_SUPERVISORY_AUTHORITY=
PRIVACY_SUPERVISORY_ADDRESS=
PRIVACY_SUPERVISORY_CITY=
PRIVACY_SUPERVISORY_URL=

# Stand der Datenschutzerklärung
PRIVACY_POLICY_DATE=

# =============================================================================
# Optional: Initial Admin Account (for first-time setup)
# =============================================================================

ADMIN_USERNAME=admin
ADMIN_PASSWORD=change-this-password-immediately

# =============================================================================
# Testing Configuration
# =============================================================================

# Test admin user credentials (used in pytest fixtures)
TEST_ADMIN_USERNAME=test_admin
TEST_ADMIN_PASSWORD=test_password_123

# =============================================================================
# Optional: Email/Notification Settings
# =============================================================================

MAIL_SERVER=smtp.gmail.com
MAIL_PORT=587
MAIL_USE_TLS=True
MAIL_USERNAME=your-email@gmail.com
MAIL_PASSWORD=your-app-password

# =============================================================================
# Optional: Scraper Settings
# =============================================================================

SCRAPER_TIMEOUT=30
SCRAPER_RETRIES=3

# =============================================================================
# Optional: Scraper Worker / Queue Settings
# =============================================================================

# Redis connection for job queue
REDIS_URL=redis://redis:6379/0

# Queue name for scraper jobs
SCRAPER_QUEUE_NAME=scraper

# Shared token for worker <-> API authentication
SCRAPER_API_TOKEN=change-this-to-a-long-random-token

# Base URL for the API (used by worker to submit results)
SCRAPER_API_BASE_URL=http://app:5000

# Timeout for API requests (seconds) - reasonable for batch processing
GUNICORN_TIMEOUT=120
SCRAPER_API_TIMEOUT=120

# Number of shops to send per batch (prevents timeouts with large datasets)
SCRAPER_BATCH_SIZE=50

# =============================================================================
# Optional: Development Settings
# =============================================================================

# Set to true to enable Flask debug toolbar
# FLASK_DEBUG_TOOLBAR=False

# Log level (DEBUG | INFO | WARNING | ERROR | CRITICAL)
# LOG_LEVEL=INFO
